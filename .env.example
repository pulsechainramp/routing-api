# Application
PORT=3000
NODE_ENV=development
LOG_LEVEL=info
# ENABLE_SWAGGER=true

# Frontend origins (comma separated)
CORS_ALLOWLIST=http://localhost:5173,http://localhost:3000

# Database (required)
DATABASE_URL=postgresql://routing_app:change_me@localhost:5432/routing?schema=public

# Core services
PITEAS_API_BASE_URL=https://sdk.piteas.io
PULSECHAIN_RPC_URLS=https://rpc.pulsechain.com,https://pulsechain-rpc.publicnode.com,https://rpc-pulsechain.g4mm4.io,https://pulsechain.rpc.thirdweb.com,https://evex.cloud/pulserpc
ETHEREUM_RPC_URLS=https://ethereum-rpc.publicnode.com,https://rpc.ankr.com/eth,https://ethereum.public.blockpi.network/v1/rpc/public,https://eth.drpc.org
RPC_URL=https://rpc.pulsechain.com
RPC_STALL_TIMEOUT_MS=1200
RPC_RETRY_COUNT=2
RPC_RETRY_DELAY_MS=200
RPC_COOLDOWN_MS=30000
RPC_RATE_LIMIT_COOLDOWN_MS=60000
# Uncomment to override Ethereum RPC behavior (inherits RPC_* defaults otherwise)
#ETH_RPC_URL=https://ethereum-rpc.publicnode.com
#ETH_RPC_STALL_TIMEOUT_MS=1200
#ETH_RPC_RETRY_COUNT=2
#ETH_RPC_RETRY_DELAY_MS=200
#ETH_RPC_COOLDOWN_MS=30000

# Quote signing (set to a dedicated hot key with minimal permissions)
QUOTE_SIGNING_PRIVATE_KEY=
QUOTE_SIGNER_ADDRESS=
QUOTE_CHAIN_ID=369
QUOTE_MAX_DEADLINE_SECONDS=1800 # increase if your quote provider returns longer deadlines

# Proxy configuration (optional)
USE_PROXY=false
PROXY_LIST=
PROXY_USERNAME=
PROXY_PASSWORD=

# Rate limiting (optional overrides)
RATE_LIMIT_REQUESTS=10
RATE_LIMIT_WINDOW_MS=60000
RL_POINTS=200
RL_DURATION=60
QUOTE_RL_POINTS=10
QUOTE_RL_DURATION=5
TRUST_PROXY=

# Onramp providers data
ONRAMPS_JSON_PATH=./src/data/onramps_providers.json

# Legacy integrations (optional)
CHANGENOW_API_KEY=

# Referral creation auth & limits
JWT_SECRET=development-jwt-secret-change-me
JWT_EXPIRES_IN=24h
# Comma-separated list of trusted Host headers for SIWE (required)
SIWE_DOMAIN=localhost # change to pulsechainramp.com in production
SIWE_URI=http://localhost:5173 # change to https://pulsechainramp.com in production
SIWE_STATEMENT=Sign in to create a referral code
SIWE_CHAIN_ID=369
REFERRAL_CREATION_RATE_LIMIT_MAX=3
REFERRAL_CREATION_RATE_LIMIT_WINDOW=1 minute
REFERRAL_READ_RATE_LIMIT_MAX=60
REFERRAL_READ_RATE_LIMIT_WINDOW=1 minute
REFERRAL_FEES_RATE_LIMIT_MAX=120
REFERRAL_FEES_RATE_LIMIT_WINDOW=1 minute
SIWE_CHALLENGE_RATE_LIMIT_MAX=20
SIWE_CHALLENGE_RATE_LIMIT_WINDOW=1 minute

# OmniBridge protections
OMNIBRIDGE_CREATE_RATE_LIMIT_MAX=5
OMNIBRIDGE_CREATE_RATE_LIMIT_WINDOW=1 minute
# OMNIBRIDGE_CREATE_RATE_LIMIT_BAN=
OMNIBRIDGE_CREATE_ENABLED=true
OMNI_MISS_TTL_MS=600000
RPC_ETH_MAX_CONCURRENCY=5
RPC_PLS_MAX_CONCURRENCY=5
OMNIBRIDGE_ETH_CONTRACTS=0x88ad09518695c6c3712ac10a214be5109a655671,0xe20e337db2a00b1c37139c873b92a0aad3f468bf
OMNIBRIDGE_PLS_CONTRACTS=0x4fd0aaa7506f3d9cb8274bdb946ec42a1b8751ef,0x0e18d0d556b652794ef12bf68b2dc857ef5f3996
OMNIBRIDGE_HISTORY_RATE_LIMIT_MAX=30
OMNIBRIDGE_HISTORY_RATE_LIMIT_WINDOW=1 minute
# OMNIBRIDGE_HISTORY_RATE_LIMIT_BAN=
OMNIBRIDGE_SYNC_RATE_LIMIT_MAX=2
OMNIBRIDGE_SYNC_RATE_LIMIT_WINDOW=10 minutes
# OMNIBRIDGE_SYNC_RATE_LIMIT_BAN=
REFERRAL_FEES_ADMIN_ADDRESSES=

# PulseX stress testing
PULSEX_QUOTE_URL=http://localhost:3000/quote/pulsex
PULSEX_STRESS_MODE=hammer
PULSEX_STRESS_CONCURRENCY=20
PULSEX_STRESS_DURATION_SEC=60
PULSEX_STRESS_CONNECTIONS=100
PULSEX_STRESS_MAX_REQUESTS_PER_CONN=0
PULSEX_THINK_MIN_MS=2000
PULSEX_THINK_MAX_MS=10000
